<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="会熟练拼写Python、Java、React"><title>JDK源码阅读记-Object | 一点知识</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">JDK源码阅读记-Object</h1><a id="logo" href="/.">一点知识</a><p class="description">xukf</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">JDK源码阅读记-Object</h1><div class="post-meta">Jul 10, 2018<span> | </span><span class="category"><a href="/categories/后台/">后台</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 840</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-hourglass-half"></i><span class="post-count"> 3</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#private-static-native-void-registerNatives"><span class="toc-number">1.</span> <span class="toc-text">private static native void registerNatives()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#public-final-native-Class-lt-gt-getClass"><span class="toc-number">2.</span> <span class="toc-text">public final native Class&lt;?&gt; getClass()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#public-native-int-hashCode"><span class="toc-number">3.</span> <span class="toc-text">public native int hashCode();</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#public-boolean-equals-Object-obj"><span class="toc-number">4.</span> <span class="toc-text">public boolean equals(Object obj)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#protected-native-Object-clone-throws-CloneNotSupportedException"><span class="toc-number">5.</span> <span class="toc-text">protected native Object clone() throws CloneNotSupportedException;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#英文对照"><span class="toc-number">6.</span> <span class="toc-text">英文对照</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参考文章"><span class="toc-number">7.</span> <span class="toc-text">参考文章</span></a></li></ol></div></div><div class="post-content"><p>public class Object<br><a id="more"></a></p>
<h3 id="private-static-native-void-registerNatives"><a href="#private-static-native-void-registerNatives" class="headerlink" title="private static native void registerNatives()"></a>private static native void registerNatives()</h3><p><code>native</code>关键字修饰的方法是一个原生态方法，方法对应的实现不是在当前文件，而是在用其他语言实现的文件中。Java语言本身不能对操作系统底层进行访问和操作，但可以通过JNI接口调用其他语言来实现对底层的访问。</p>
<h3 id="public-final-native-Class-lt-gt-getClass"><a href="#public-final-native-Class-lt-gt-getClass" class="headerlink" title="public final native Class&lt;?&gt; getClass()"></a>public final native Class&lt;?&gt; getClass()</h3><p>返回结果为运行时对象类型<br><code>represents the runtime class of this object.</code></p>
<h3 id="public-native-int-hashCode"><a href="#public-native-int-hashCode" class="headerlink" title="public native int hashCode();"></a>public native int hashCode();</h3><p>hashCode()方法对HashMap等通过hash表实现的对象很有好处，例如HashMap要put一个新key，可以先通过hashCode()获取key的hash值，进行hash比较，如果hash之后位置为空，则表示key不存在，可以直接put，如果hash值一致，再通过equals()来判断是否一致来决定是否put。</p>
<p>在一次应用程序执行期间，只要对象的equals方法没有改变，那么对于同一个对象无论调用多少次hashCode方法，都应该返回同一个整数。<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Whenever <span class="keyword">it</span> <span class="keyword">is</span> invoked <span class="keyword">on</span> <span class="keyword">the</span> same object more than once during</span><br><span class="line">    *     an execution <span class="keyword">of</span> a Java <span class="built_in">application</span>, <span class="keyword">the</span> &#123;@code hashCode&#125; method</span><br><span class="line">    *     must consistently <span class="literal">return</span> <span class="keyword">the</span> same <span class="built_in">integer</span>, provided no information</span><br><span class="line">    *     used <span class="keyword">in</span> &#123;@code <span class="keyword">equals</span>&#125; comparisons <span class="keyword">on</span> <span class="keyword">the</span> object <span class="keyword">is</span> modified.</span><br><span class="line">    *     This <span class="built_in">integer</span> need <span class="keyword">not</span> remain consistent <span class="keyword">from</span> one execution <span class="keyword">of</span> an</span><br><span class="line">    *     <span class="built_in">application</span> <span class="keyword">to</span> another execution <span class="keyword">of</span> <span class="keyword">the</span> same <span class="built_in">application</span></span><br></pre></td></tr></table></figure></p>
<p>hashCode与equals的关系为：</p>
<ul>
<li>如果两个对象通过equals判断为相同，则hashCode返回的结果也相同</li>
<li>如果两个对象通过equals判断不相同，两个对象的hashCode不一定不相同。即并<strong>不要求</strong>不同的对象调用hashCode返回的结果不同。要努力避免这种情况以提高hash表的效率</li>
</ul>
<p>在java中通常为不同的对象返回不同的hash值，这通常是将对象的内部地址转换为整数来实现，但是若想要比较对象是否相等，只通过hashCode是不够的。</p>
<h3 id="public-boolean-equals-Object-obj"><a href="#public-boolean-equals-Object-obj" class="headerlink" title="public boolean equals(Object obj)"></a>public boolean equals(Object obj)</h3><p>比较对象是否相等，分为obj为非空对象(non-null)与空对象(null)：<br>非空对象：</p>
<ul>
<li>reflexive 反身性 x.equals(x) is true</li>
<li>symmetric 对称性 if x.equals(y) is true then y.equals(x) is true</li>
<li>transitive 传递性 if x,y is equals and y,z is equals then x,z is equals</li>
<li>consistent 一致性 if x,y is equals, 只要x,y内容不变，无论多次比较，总是相等</li>
</ul>
<p>空对象：</p>
<ul>
<li>x.equals(null) return false</li>
</ul>
<p>需要注意的是，<strong>如果要重写equals()方法，必须重写hashCode()方法</strong>，来保证<code>equals判断为相同，则hashCode返回的结果也相同</code>这条规则成立</p>
<h3 id="protected-native-Object-clone-throws-CloneNotSupportedException"><a href="#protected-native-Object-clone-throws-CloneNotSupportedException" class="headerlink" title="protected native Object clone() throws CloneNotSupportedException;"></a>protected native Object clone() throws CloneNotSupportedException;</h3><p>复制出一个新object，如果当前对象没有实现<code>Cloneable</code>接口，则会抛出<code>CloneNotSupportedException</code></p>
<p>新Object与原Object的关系有：</p>
<ul>
<li>x.clone() != x  ==运算符对于对象来说，是用来比较两个变量是否指向内存同一块地址</li>
</ul>
<h3 id="英文对照"><a href="#英文对照" class="headerlink" title="英文对照"></a>英文对照</h3><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cast</span> 显式转化</span><br><span class="line">performance 性能</span><br><span class="line">remain 保留 保持</span><br><span class="line">consistent 一贯</span><br><span class="line">practical  实际的</span><br><span class="line">Indicates 指示</span><br><span class="line">reflexive 反身</span><br><span class="line">symmetric 对称</span><br><span class="line">discriminating 鉴别</span><br><span class="line">otherwise 除此以外</span><br><span class="line">precise 精确的</span><br><span class="line">intent 意图</span><br><span class="line">mutable 易变的</span><br><span class="line">comprise 包括</span><br><span class="line">internal 内部的</span><br><span class="line">reference 参考</span><br><span class="line"><span class="keyword">immutable</span> 一成不变</span><br><span class="line">independent 独立</span><br></pre></td></tr></table></figure>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><p>JDK1.8源码</p>
<hr>
<p><a rel="noopener" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" target="_blank"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/3.0/88x31.png"></a><br>本作品采用<a rel="noopener" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" target="_blank">知识共享署名-非商业性使用-禁止演绎 3.0 未本地化版本许可协议</a>进行许可。</p>
</div><div class="tags"><a href="/tags/Java/">Java</a><a href="/tags/源码/">源码</a></div><div class="post-nav"><a class="next" href="/2018/07/04/杂-文件内容按字段聚组统计/">杂-文件内容按字段聚组统计</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/FreshMan/">FreshMan</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Whisper/">Whisper</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/后台/">后台</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构/">架构</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Oracle/" style="font-size: 18.67px;">Oracle</a> <a href="/tags/Echarts/" style="font-size: 18.67px;">Echarts</a> <a href="/tags/GitHub/" style="font-size: 18.67px;">GitHub</a> <a href="/tags/Java/" style="font-size: 14.33px;">Java</a> <a href="/tags/源码/" style="font-size: 10px;">源码</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Hexo/" style="font-size: 23px;">Hexo</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/Python/" style="font-size: 18.67px;">Python</a> <a href="/tags/React/" style="font-size: 18.67px;">React</a> <a href="/tags/svn/" style="font-size: 14.33px;">svn</a> <a href="/tags/lambda/" style="font-size: 10px;">lambda</a> <a href="/tags/Shell/" style="font-size: 10px;">Shell</a> <a href="/tags/设计/" style="font-size: 10px;">设计</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/07/10/JDK源码阅读记-Object/">JDK源码阅读记-Object</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/04/杂-文件内容按字段聚组统计/">杂-文件内容按字段聚组统计</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/27/日志/">日志</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/26/Oracle-Date日期、时间操作/">Oracle-Date日期、时间操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/06/日志-20180606/">日志-20180606</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/06/Echarts-Echarts中国地图分省着色/">Echarts-Echarts中国地图省分着色</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/05/GitHub-多分支多用户协作/">GitHub-多分支多用户协作</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/28/Python-datetime计算两个时间差/">Python-datetime计算两个时间差</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/21/JS-Ajax返回值与数组深拷贝/">JS-Ajax返回值与数组深拷贝</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/14/Hexo-Github Pages未区分大小写/">Hexo-Github Pages未区分大小写</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://strcpy.me/" title="strcpy" target="_blank">strcpy</a><ul></ul><a href="https://www.haomwei.com/" title="tufu9441" target="_blank">tufu9441</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">一点知识.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + '24bfbdc1d2098a8d5cb427714572bbd5';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" color="100,20,100" opacity="0.5" zIndex="-1" count="10" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>